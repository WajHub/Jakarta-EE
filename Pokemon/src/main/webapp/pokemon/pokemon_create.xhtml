<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="jakarta.faces.html"
                xmlns:ui="jakarta.faces.facelets"
                xmlns:f="jakarta.faces.core"
                template="/WEB-INF/template/main.xhtml">

    <f:metadata>
        <f:viewAction action="#{pokemonCreateView.init()}"/>
    </f:metadata>
    <f:validateWholeBean value="#{pokemonCreateView.pokemonCreateRequest}"
                         validationGroups="org.example.pokemon.validation.PokemonRequestCreateGroup"/>

    <ui:define name="content">
        <div class="container mt-5 w-25">
            <h2 class="mb-4">Create Pok√©mon</h2>

            <h:form enctype="multipart/form-data">

                <div class="mb-3">
                    <h:outputLabel for="name" value="Name:"/>
                    <h:inputText id="name"
                                 value="#{pokemonCreateView.pokemonCreateRequest.name}"
                                 styleClass="form-control"/>
                    <h:message for="name" styleClass="text-danger"/>
                </div>

                <div class="mb-3">
                    <h:outputLabel for="health" value="Health:" />
                    <h:inputText id="health"
                                 value="#{pokemonCreateView.pokemonCreateRequest.health}"
                                 styleClass="form-control"/>
                    <h:message for="health" styleClass="text-danger"/>
                </div>

                <div class="mb-3">
                    <h:outputLabel for="attack" value="Attack:" />
                    <h:inputText id="attack"
                                 value="#{pokemonCreateView.pokemonCreateRequest.attack}"
                                 styleClass="form-control"/>
                    <h:message for="attack" styleClass="text-danger"/>
                </div>

                <div class="mb-3">
                    <h:outputLabel for="defense" value="Defense:" />
                    <h:inputText id="defense"
                                 value="#{pokemonCreateView.pokemonCreateRequest.defense}"
                                 styleClass="form-control"/>
                    <h:message for="defense" styleClass="text-danger"/>
                </div>

                <div class="mb-3">
                    <h:outputLabel for="level" value="Level:" class="form-label"/>
                    <h:inputText id="level"
                                 value="#{pokemonCreateView.pokemonCreateRequest.level}"
                                 styleClass="form-control"/>
                    <h:message for="level" styleClass="text-danger"/>
                </div>

                <div class="mb-3">
                    <ui:repeat value="#{pokemonCreateView.speciesList}" var="species">
                        <div class="form-check">
                            <h:selectOneRadio id="radioId" group="species"
                                              value="#{pokemonCreateView.pokemonCreateRequest.speciesId}"
                                              styleClass="form-check-input"
                                              enabledClass="form-check-label">
                                <f:selectItem itemValue="#{species.id}" itemLabel="#{species.name}"/>
                            </h:selectOneRadio>
                        </div>
                    </ui:repeat>
                </div>

                <div class="d-flex justify-content-between">
                    <h:commandButton value="Create"
                                     styleClass="btn btn-primary"
                                     action="#{pokemonCreateView.saveAction()}">

                    </h:commandButton>
                    <h:commandButton value="Reset"
                                     styleClass="btn btn-secondary"
                                     type="reset"/>
                    <h:commandButton value="Cancel"
                                     styleClass="btn btn-secondary"
                                     action="#{pokemonCreateView.cancelAction()}"/>
                </div>
            </h:form>
        </div>
    </ui:define>

</ui:composition>
